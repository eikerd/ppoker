<div class="results-container">
  <h3>Voting Results</h3>

  <table class="results-table">
    <thead>
      <tr>
        <th>Player</th>
        <th>Avatar</th>
        <th>Vote</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let vote of nonDealerVotes"
        [class.outlier]="isOutlier(vote)"
        [class.needs-split]="vote.value === 7"
      >
        <td>{{ vote.playerName }}</td>
        <td class="avatar">{{ vote.playerAvatar }}</td>
        <td class="vote-value">{{ vote.value }}</td>
        <td class="status">
          <span *ngIf="vote.value === 7" class="warning">🚨 Split Story</span>
          <span *ngIf="isOutlier(vote)" class="outlier-badge">⚠️ Outlier</span>
          <span *ngIf="!isOutlier(vote) && vote.value !== 7">✓</span>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="statistics" *ngIf="statistics">
    <div class="stat">
      <span class="stat__label">Average:</span>
      <span class="stat__value">{{ statistics.average }}</span>
    </div>
    <div class="stat">
      <span class="stat__label">Median:</span>
      <span class="stat__value">{{ statistics.median }}</span>
    </div>
    <div class="stat">
      <span class="stat__label">Range:</span>
      <span class="stat__value">
        {{ statistics.range.min }}-{{ statistics.range.max }}
      </span>
    </div>
    <div class="stat" [class.consensus-yes]="statistics.consensus">
      <span class="stat__label">Consensus:</span>
      <span class="stat__value">
        {{ statistics.consensus ? '✅ Yes' : '❌ No' }}
      </span>
    </div>
  </div>
</div>
